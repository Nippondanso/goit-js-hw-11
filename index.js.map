{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import 'izitoast/dist/css/iziToast.min.css';\n\n\nconst API_KEY = '46865646-27ce533d0a2b530f03419db89';\nconst URL = 'https://pixabay.com/api/';\n\nexport function log() {\n  console.log(`pixabay.js connected`);\n}\n\nlet params = {\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n  min_width: '360',\n  max_height: '200',\n};\n\nfunction createURL(value) {\n  let searchParams = new URLSearchParams(params);\n  return `${URL}?key=${API_KEY}&q=${value}&${searchParams}`;\n}\n\nexport function getData(value) {\n  return fetch(createURL(value), {});\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nconst gallery = document.querySelector('.gallery');\nconst LIKES_TITLE = 'Likes';\nconst VIEWS_TITLE = 'Views';\nconst COMMENTS_TITLE = 'Comments';\nconst DOWNLOADS_TITLE = 'Downloads';\nlet lightbox = null;\n\ngallery.classList.add('gallery');\n\nlet galleryItems =\n  (items) =>\n    items.map(item => {\n      return `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${item['largeImageURL']}\">\n          <img\n            class=\"gallery-image\"\n            src=\"${item['previewURL']}\"\n            alt=\"${item['tags']}\"\n          />\n          <span class=\"gallery-legend\">\n             <div class=\"gallery-legend-item\">\n                <p class=\"gallery-legend-item-label\">${LIKES_TITLE}</p>\n                <p class=\"gallery-legend-item-value\">${item[LIKES_TITLE.toLocaleLowerCase()]}</p>\n             </div>\n             <div class=\"gallery-legend-item\">\n                <p class=\"gallery-legend-item-label\">${VIEWS_TITLE}</p>\n                <p class=\"gallery-legend-item-value\">${item[VIEWS_TITLE.toLocaleLowerCase()]}</p>\n             </div>\n             <div class=\"gallery-legend-item\">\n                <p class=\"gallery-legend-item-label\">${COMMENTS_TITLE}</p>\n                <p class=\"gallery-legend-item-value\">${item[COMMENTS_TITLE.toLocaleLowerCase()]}</p>\n             </div>\n             <div class=\"gallery-legend-item\">\n                <p class=\"gallery-legend-item-label\">${DOWNLOADS_TITLE}</p>\n                <p class=\"gallery-legend-item-value\">${item[DOWNLOADS_TITLE.toLocaleLowerCase()]}</p>\n             </div>\n          </span>\n        </a>\n      </li>\n    `;\n    }).join('');\n\nexport function fillGalleryWithImages(images) {\n  gallery.insertAdjacentHTML('beforeend', galleryItems(images));\n  initSimpleLightbox();\n  refreshLightbox();\n}\n\nexport function initSimpleLightbox() {\n  // noinspection JSValidateTypes\n  lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionDelay: 250,\n    captionPosition: 'bottom',\n    captionsData: 'alt'\n  });\n}\n\nexport function refreshLightbox() {\n  lightbox.refresh();\n}","import iziToast from 'izitoast';\nimport * as pixabay from './js/pixabay-api.js';\nimport * as render from './js/render-functions.js';\n\nconst form = document.querySelector('form');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nfunction toggleLoader() {\n  loader.classList.toggle('hidden');\n}\n\nform.addEventListener('submit', (e) => {\n  const input = e.target.elements['search'];\n\n  e.preventDefault();\n  gallery.innerHTML = '';\n  toggleLoader();\n\n  if (input.value.trim().length === 0) {\n    toggleLoader();\n    iziToast.warning({\n      position: 'topRight', message: 'Please enter a valid search!',\n    });\n    return;\n  }\n\n  pixabay.getData(input.value.trim())\n    .then((data) => {\n      if (!data.ok) {\n        throw new Error(data.statusText);\n      }\n      return data.json();\n    })\n    .then(data => {\n      if (data['hits'].length < 1) {\n        iziToast.warning({\n          position: 'topRight',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      render.fillGalleryWithImages(data['hits']);\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight', message: 'Query failed!',\n      });\n      throw new Error(error.message);\n    })\n    .finally(() => {\n        toggleLoader();\n      }\n    );\n\n  form.reset();\n});\n\n\n\n\n\n"],"names":["API_KEY","URL","params","createURL","value","searchParams","getData","gallery","LIKES_TITLE","VIEWS_TITLE","COMMENTS_TITLE","DOWNLOADS_TITLE","lightbox","galleryItems","items","item","fillGalleryWithImages","images","initSimpleLightbox","refreshLightbox","SimpleLightbox","form","loader","toggleLoader","e","input","iziToast","pixabay.getData","data","render.fillGalleryWithImages","error"],"mappings":"6vBAGA,MAAMA,EAAU,qCACVC,EAAM,2BAMZ,IAAIC,EAAS,CACX,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,UAAW,MACX,WAAY,KACd,EAEA,SAASC,EAAUC,EAAO,CACxB,IAAIC,EAAe,IAAI,gBAAgBH,CAAM,EAC7C,MAAO,GAAGD,CAAG,QAAQD,CAAO,MAAMI,CAAK,IAAIC,CAAY,EACzD,CAEO,SAASC,EAAQF,EAAO,CAC7B,OAAO,MAAMD,EAAUC,CAAK,EAAG,CAAE,CAAA,CACnC,CCrBA,MAAMG,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,QACdC,EAAc,QACdC,EAAiB,WACjBC,EAAkB,YACxB,IAAIC,EAAW,KAEfL,EAAQ,UAAU,IAAI,SAAS,EAE/B,IAAIM,EACDC,GACCA,EAAM,IAAIC,GACD;AAAA;AAAA,wCAE2BA,EAAK,aAAgB;AAAA;AAAA;AAAA,mBAG1CA,EAAK,UAAa;AAAA,mBAClBA,EAAK,IAAO;AAAA;AAAA;AAAA;AAAA,uDAIwBP,CAAW;AAAA,uDACXO,EAAKP,EAAY,kBAAiB,CAAE,CAAC;AAAA;AAAA;AAAA,uDAGrCC,CAAW;AAAA,uDACXM,EAAKN,EAAY,kBAAiB,CAAE,CAAC;AAAA;AAAA;AAAA,uDAGrCC,CAAc;AAAA,uDACdK,EAAKL,EAAe,kBAAiB,CAAE,CAAC;AAAA;AAAA;AAAA,uDAGxCC,CAAe;AAAA,uDACfI,EAAKJ,EAAgB,kBAAiB,CAAE,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,KAM3F,EAAE,KAAK,EAAE,EAEP,SAASK,EAAsBC,EAAQ,CAC5CV,EAAQ,mBAAmB,YAAaM,EAAaI,CAAM,CAAC,EAC5DC,IACAC,GACF,CAEO,SAASD,GAAqB,CAEnCN,EAAW,IAAIQ,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,aAAc,KAClB,CAAG,CACH,CAEO,SAASD,GAAkB,CAChCP,EAAS,QAAO,CAClB,CC7DA,MAAMS,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EACzCf,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASgB,GAAe,CACtBD,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEAD,EAAK,iBAAiB,SAAWG,GAAM,CACrC,MAAMC,EAAQD,EAAE,OAAO,SAAS,OAMhC,GAJAA,EAAE,eAAc,EAChBjB,EAAQ,UAAY,GACpBgB,IAEIE,EAAM,MAAM,KAAI,EAAG,SAAW,EAAG,CACnCF,IACAG,EAAS,QAAQ,CACf,SAAU,WAAY,QAAS,8BACrC,CAAK,EACD,MACD,CAEDC,EAAgBF,EAAM,MAAM,MAAM,EAC/B,KAAMG,GAAS,CACd,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAClB,CAAK,EACA,KAAKA,GAAQ,CACRA,EAAK,KAAQ,OAAS,GACxBF,EAAS,QAAQ,CACf,SAAU,WACV,QAAS,0EACnB,CAAS,EAEHG,EAA6BD,EAAK,IAAO,CAC/C,CAAK,EACA,MAAME,GAAS,CACd,MAAAJ,EAAS,MAAM,CACb,SAAU,WAAY,QAAS,eACvC,CAAO,EACK,IAAI,MAAMI,EAAM,OAAO,CACnC,CAAK,EACA,QAAQ,IAAM,CACXP,GACD,CACP,EAEEF,EAAK,MAAK,CACZ,CAAC"}